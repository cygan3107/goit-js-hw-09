{"version":3,"file":"commonHelpers2.js","sources":["../src/js/02-form.js"],"sourcesContent":["import throttle from 'lodash.throttle';\nconst formFeed = document.querySelector('.feedback-form');\nconst emailInput = document.querySelector('input[name=\"email\"]');\nconst messageInput = document.querySelector('textarea[name=\"message\"]');\n\nconst formValue = {};\n\nif (localStorage.getItem('feedback-form-state')) {\n  const currentFeedbackFormStateValue = localStorage.getItem(\n    'feedback-form-state'\n  );\n  if (JSON.parse(currentFeedbackFormStateValue).email) {\n    const currentEmailValue = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    ).email;\n    emailInput.value = currentEmailValue;\n    formValue.email = currentEmailValue;\n  }\n\n  if (JSON.parse(currentFeedbackFormStateValue).message) {\n    const currentMessageValue = JSON.parse(\n      localStorage.getItem('feedback-form-state')\n    ).message;\n    messageInput.value = currentMessageValue;\n    formValue.message = currentMessageValue;\n  }\n}\n\nformFeed.addEventListener(\n  'input',\n  throttle(event => {\n    formValue[event.target.name] = event.target.value;\n    localStorage.setItem('feedback-form-state', JSON.stringify(formValue));\n  }, 500)\n);\n\nformFeed.addEventListener('submit', event => {\n  event.preventDefault();\n  if (emailInput.value === '' || messageInput.value === '') {\n    return alert('All form fields must be completed.');\n  }\n  console.log(formValue);\n  localStorage.removeItem('feedback-form-state');\n  emailInput.value = '';\n  messageInput.value = '';\n});\n"],"names":["formFeed","emailInput","messageInput","formValue","currentFeedbackFormStateValue","currentEmailValue","currentMessageValue","throttle","event"],"mappings":"oGACA,MAAMA,EAAW,SAAS,cAAc,gBAAgB,EAClDC,EAAa,SAAS,cAAc,qBAAqB,EACzDC,EAAe,SAAS,cAAc,0BAA0B,EAEhEC,EAAY,CAAA,EAElB,GAAI,aAAa,QAAQ,qBAAqB,EAAG,CAC/C,MAAMC,EAAgC,aAAa,QACjD,qBACJ,EACE,GAAI,KAAK,MAAMA,CAA6B,EAAE,MAAO,CACnD,MAAMC,EAAoB,KAAK,MAC7B,aAAa,QAAQ,qBAAqB,CAC3C,EAAC,MACFJ,EAAW,MAAQI,EACnBF,EAAU,MAAQE,CACnB,CAED,GAAI,KAAK,MAAMD,CAA6B,EAAE,QAAS,CACrD,MAAME,EAAsB,KAAK,MAC/B,aAAa,QAAQ,qBAAqB,CAC3C,EAAC,QACFJ,EAAa,MAAQI,EACrBH,EAAU,QAAUG,CACrB,CACH,CAEAN,EAAS,iBACP,QACAO,EAASC,GAAS,CAChBL,EAAUK,EAAM,OAAO,IAAI,EAAIA,EAAM,OAAO,MAC5C,aAAa,QAAQ,sBAAuB,KAAK,UAAUL,CAAS,CAAC,CACtE,EAAE,GAAG,CACR,EAEAH,EAAS,iBAAiB,SAAUQ,GAAS,CAE3C,GADAA,EAAM,eAAc,EAChBP,EAAW,QAAU,IAAMC,EAAa,QAAU,GACpD,OAAO,MAAM,oCAAoC,EAEnD,QAAQ,IAAIC,CAAS,EACrB,aAAa,WAAW,qBAAqB,EAC7CF,EAAW,MAAQ,GACnBC,EAAa,MAAQ,EACvB,CAAC"}